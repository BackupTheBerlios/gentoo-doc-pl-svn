--- hardenedfaq.xml~~	2006-04-28 20:10:53.000000000 +0200
+++ hardenedfaq.xml	2006-04-28 21:48:13.000000000 +0200
@@ -21,7 +21,7 @@
   <mail link="yarel@o2.pl">Paweł Kwiatkowski</mail>
 </author>
 <author title="Tłumaczenie">
-  <mail link="stawrul@o2.pl">Waldemar Korłub</mail>
+  <mail link="stawrul@gmail.pl">Waldemar Korłub</mail>
 </author>
 
 <abstract>
@@ -29,8 +29,8 @@
 IRC #gentoo-hardened oraz na liście mailingowej gentoo-hardened.
 </abstract>
 
-<version>1.8</version>
-<date>2005-10-10</date>
+<version>1.9</version>
+<date>2006-02-18</date>
 
 <chapter>
 <title>Pytania</title>
@@ -43,16 +43,12 @@
     <uri link="#toolchain">Co to jest "toolchain"?</uri>
   </li>
   <li>
-    <uri link="#whichisbetter">Z czego korzystać: RSBAC, SELinux czy
-    Grsecurity?</uri>
+    <uri link="#whichisbetter">Z czego korzystać: grsecurity, RSBAC czy
+    SELinux?</uri>
   </li>
   <li>
-    <uri link="#aclall">Czy jest możliwe jednoczesne korzystanie z Grsecurity,
-    SELinux oraz PaX?</uri>
-  </li>
-  <li>
-    <uri link="#libbitmap">W jaki sposób pozbyć się komunikatu "Symbol __guard
-    from module /usr/X11R6/lib/modules/fonts/ libbitmap.a is unresolved!"</uri>
+    <uri link="#aclall">Czy jest możliwe jednoczesne korzystanie z grsecurity,
+    RSBAC, SELinux oraz PaX?</uri>
   </li>
   <li>
     <uri link="#hardenedcflags">Czy należy dodać jakieś flagi do
@@ -113,20 +109,20 @@
 </body>
 </section>
 <section>
-<title>Grsecurity</title>
+<title>grsecurity</title>
 <body>
 
 <ul>
   <li>
     <uri link="#grsecinformation">Jaki jest adres strony domowej
-  Grsecurity?</uri>
+    grsecurity?</uri>
   </li>
   <li>
     <uri link="#grsecgentoodoc">Czy istnieje jakaś dokumentacja Gentoo dotycząca
-    Grsecurity?</uri>
+    grsecurity?</uri>
   </li>
   <li>
-    <uri link="#grsec2681">Czy można używać Grsecurity z kernelami 2.6.8,
+    <uri link="#grsec2681">Czy można używać grsecurity z kernelami 2.6.8,
     2.6.8.1 albo 2.6.9?</uri>
   </li>
 </ul>
@@ -185,7 +181,7 @@
 </body>
 </section>
 <section id="whichisbetter">
-<title>Z czego korzystać: RSBAC, SELinux czy Grsecurity?</title>
+<title>Z czego korzystać: grsecurity, RSBAC czy SELinux?</title>
 <body>
 
 <p>
@@ -200,14 +196,14 @@
 </body>
 </section>
 <section id="aclall">
-<title>Czy jest możliwe jednoczesne korzystanie z Grsecurity, SELinux oraz
+<title>Czy jest możliwe jednoczesne korzystanie z grsecurity, SELinux oraz
 PaX?</title>
 <body>
 
 <p>
-Tak, taka kombinacja jest możliwa gdyż PaX pracuje zarówno z Grsecurity jak i
-SELinux. Jedyny konflikt jaki może mieć miejsce ma swoje źródło w tym, że możemy
-korzystać tylko z jednego systemu kontroli dostępu.
+Tak, taka kombinacja jest możliwa gdyż PaX pracuje zarówno z grsecurity, RSBAC
+jak i SELinux. Jedyny konflikt jaki może mieć miejsce ma swoje źródło w tym, że
+możemy korzystać tylko z jednego systemu kontroli dostępu.
 </p>
 
 </body>
@@ -229,7 +225,7 @@
 </p>
 
 <pre caption="Instalacja toolchain w wersji hardened">
-# <i>emerge binutils gcc virtual/libc</i>
+# <i>emerge --oneshot binutils gcc virtual/libc</i>
 # <i>emerge -e world</i>
 </pre>
 
@@ -248,6 +244,26 @@
 <body>
 
 <p>
+Możemy tego dokonać używając programu <c>gcc-config</c>:
+</p>
+
+<pre caption="Przykładowy wynik polecenia gcc-config -l">
+# gcc-config -l
+[1] i686-pc-linux-gnu-3.4.4 *
+[2] i686-pc-linux-gnu-3.4.4-hardenednopie
+[3] i686-pc-linux-gnu-3.4.4-hardenednopiessp
+[4] i686-pc-linux-gnu-3.4.4-hardenednossp
+[5] i686-pc-linux-gnu-3.4.4-vanilla
+		 
+<comment>Kompilację bez wykorzystywania SSP wybierzemy przełączając się na profil hardenednossp:</comment>
+# gcc-config i686-pc-linux-gnu-3.4.4-hardenednossp
+</pre>
+
+<p>
+Możemy również zmienić nasze flagi CFLAGS:
+</p>
+
+<p>
 Standardową opcję SSP dla budowania binariów można wyłączyć przez dodanie
 <c>-fno-stack-protector-all -fno-stack-protector</c> do zmiennej <c>CFLAGS</c>.
 </p>
@@ -284,7 +300,7 @@
 
 <p>
 Aby móc korzystać z PaX w pakiecie hardened-sources, musimy włączyć obsługę
-Grsecurity w kernelu. W przyszłej wersji powinno to zostać naprawione.
+grsecurity w kernelu. W przyszłej wersji powinno to zostać naprawione.
 </p>
 
 </body>
@@ -340,7 +356,8 @@
 <pre caption="Ustawiamy make.profile">
 # <i>cd /etc</i>
 # <i>rm make.profile</i>
-# <i>ln -s ../usr/portage/profiles/hardened/x86 make.profile</i>
+# <i>ln -s ../usr/portage/profiles/hardened/x86 make.profile</i> <comment>(Jądra serii 2.4)</comment>
+# <i>ln -s ../usr/portage/profiles/hardened/x86/2.6 make.profile</i> <comment>(Jadra serii 2.6)</comment>
 </pre>
 
 <p>
@@ -349,7 +366,7 @@
 </p>
 
 <pre caption="Przełączenie na toolchain w wersji hardened">
-# <i>emerge binutils gcc glibc</i>
+# <i>emerge --oneshot binutils gcc virtual/libc</i>
 # <i>emerge -e world</i>
 </pre>
 
@@ -461,10 +478,19 @@
 skompilowanych z non-PIC.
 </p>
 
+<p>
+Aby sprawdzić, czy w naszym systemie znajdują się biblioteki zawierające
+relokacje sekcji text, możemy wykorzystać program <c>scanelf</c> z pakietu
+<c>app-misc/pax-utils</c>. Więcej informacji o używaniu pakietu <c>pax-utils</c>
+znajdziemy w dokumencie <uri
+link="/proj/en/hardened/pax-utils.xml">Gentoo PaX Utilities Guide</uri>.
+</p>
+
 <note>
-Do sprawdzenia systemu pod kątem istnienia plików z relokacją sekcji text, można
-użyć programu check-textrel, który został napisany przez solara i umieszczony na
-stronie <uri>http://dev.gentoo.org/~solar/pax/misc/check-textrel</uri>.
+Nowsze wersje <c>sys-apps/portage</c> (>=2.0.53) sprawdzają biblioteki pod
+względem występowania relokacji sekcji text i wyświetlają ostrzeżenia lub nawet
+przerywają proces budowania programu. Zachowanie Portage zależy od ustawień
+zmiennej <c>FEATURES</c> w pliku <path>/etc/make.conf</path>.
 </note>
 
 </body>
@@ -498,7 +524,7 @@
 
 <note>
 Jeśli używamy PaX w połączeniu z dodatkowymi mechanizmami bezpieczeństwa, takimi
-jak RSBAC, Grsecurity lub SELinux, to powinniśmy zarządzać PaXem przy użyciu
+jak RSBAC, grsecurity lub SELinux, to powinniśmy zarządzać PaXem przy użyciu
 dowiązań do funkcji kernela (ang. kernel hook), dostarczonych z każdą
 implementacją.
 </note>
@@ -517,24 +543,24 @@
 </chapter>
 
 <chapter>
-<title>Pytania dotyczące Grsecurity</title>
+<title>Pytania dotyczące grsecurity</title>
 <section id="grsecinformation">
-<title>Jaki jest adres strony domowej Grsecurity?</title>
+<title>Jaki jest adres strony domowej grsecurity?</title>
 <body>
 
 <p>
-Strona domowa Grsecurity znajduje się pod adresem
+Strona domowa grsecurity znajduje się pod adresem
 <uri>http://www.grsecurity.net</uri>.
 </p>
 
 </body>
 </section>
 <section id="grsecgentoodoc">
-<title>Czy istnieje jakaś dokumentacja Gentoo dotycząca Grsecurity?</title>
+<title>Czy istnieje jakaś dokumentacja Gentoo dotycząca grsecurity?</title>
 <body>
 
 <p>
-Najbardziej aktualną dokumentacją na temat Grsecurity jest krótki przewodnik po
+Najbardziej aktualną dokumentacją na temat grsecurity jest krótki przewodnik po
 Grsecurity2, znajdujący się pod adresem
 <uri>http://www.gentoo.org/proj/en/hardened/grsecurity.xml</uri>.
 </p>
@@ -542,13 +568,13 @@
 </body>
 </section>
 <section id="grsec2681">
-<title>Czy można używać Grsecurity z kernelami 2.6.8, 2.6.8.1 albo
+<title>Czy można używać grsecurity z kernelami 2.6.8, 2.6.8.1 albo
 2.6.9?</title>
 <body>
 
 <p>
 W związku ze znacznymi zmianami w kernelu 2.6.8, które uniemożliwiły obsługę
-PaX, poprawki PaX i Grsecurity dla wersji 2.6.8, 2.6.8.1 i 2.6.9 nie są
+PaX, poprawki PaX i grsecurity dla wersji 2.6.8, 2.6.8.1 i 2.6.9 nie są
 dostępne. Mimo istnienia eksperymentalnej poprawki na kernel 2.6.10, przed jej
 użyciem należy zapoznać się z oficjalnym stanowiskiem zespołu tworzącego PaX
 odnośnie serii 2.6:
@@ -622,7 +648,7 @@
 
 <p>
 Odpowiedzi na często zadawane pytania dotyczące SELinux można znaleźć w <uri
-link="/proj/en/hardened/selinux/selinux-x86-handbook.xml?part=4&amp;chap=3">Podręczniku
+link="/proj/en/hardened/selinux/selinux-handbook.xml?part=3&amp;chap=3">Podręczniku
 SELinux</uri>.
 </p>
 
