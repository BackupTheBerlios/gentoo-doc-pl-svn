<?xml version='1.0' encoding="UTF-8"?>

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide link="/proj/pl/releng/installer/design.xml">
<title>Instalator Gentoo Linux</title>

<author title="Autor">
  <mail link="esammer@gentoo.org">Eric Sammer</mail>
</author>
<author title="Redaktor">
  <mail link="blackace@gentoo.org">Blackace</mail>
</author>
<author title="Tłumaczenie">
  <mail link="aleander@dark.freak.pl">Aleksander Kamil Modzelewski</mail>
</author>



<abstract>
Wstęp do Projektu Instalatora Gentoo Linux, opisujący jego przeznaczenie,
budowę oraz członków.
<!-- [WARNING] Trochę bez sensu -->
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>1.0</version>
<date>Jan 29, 2004</date>

<chapter>
<title>Przegląd</title>
<section>
<body>

<p>
W tej chwili nie istnieje wspomagany instalator Gentoo. Wiele użytkowników
wyraziło zapotrzebowanie na aplikację tego rodzaju. Nowicjusze Gentoo
(albo, bardziej ogólnie, Linuksa) są z reguły zastraszeni procesem instalacji
i nawet świetna dokumentacja oraz zapewnienia o dostępności wsparcia
nie są w stanie ich przekonać do podjęcia próby. Niektórzy określili to
nawet jako jedyną przyczynę, dla której nie dokonali jeszcze migracji na
Gentoo. Obecna metoda instalacji będzie nadal dostępna dla tych, którzy
ją preferują.
</p>

<p>
Projekt Instalatora Gentoo Linux ma na celu stworzenie standardowej
platformy instalacyjnej dla systemów tak biurkowych, jak i serwerowych.
Ogólnie, celem instalatora jest zgodność pomiędzy architekturami, 
użyteczność dla wszystkich użytkowników oraz elastyczność. W dziale
poświęconym funkcjonalności przedstawimy dokładniejszy opis konkretnych
możliwości, jak na razie powiemy tylko, że będzie on przeznaczony dla
wszystkich użytkowników, w każdym środowisku i na każdym poziomie
doświadczenia.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Funkcjonalność</title>
<section>
<body>

<p>
Poniżej znajduje się lista cech które będą obecne w instalatorze. Nie jest
ona wyczerpująca, ale powinna przedstawić zakres dostępnych możliwości.
Nie wszystkie z tych funkcji są przydatne dla każdego użytkownika, ale
celem jest zapewnienie konsystencji, zgodnie z mantrą "jeżeli nie dla mnie,
to dla kogoś innego".
</p>

</body>
</section>
<section>
<title>Wiele front-endów</title>
<body>

<p>
Instalator będzie miał wymienny interfejs użytkownika, przy czym wśród
możliwości będą GUI X.  Ponieważ na niektórych platformach często nie
ma urządzeń zapewniających X window (instalacja na komputerach Sun za
pośrednictwem konsoli szeregowej itp.), dostępny będzie też interfejs
tekstowy. Użytkownicy będą mieli również możliwość rozwijania własnych
rozwiązań (dowolnego rodzaju), ale ze względu na ograniczone możliwości
utrzymania oficjalnie wspierany będzie tylko jeden rodzaj interfejsu 
tekstowego i jeden rodzaj GUI.
</p>

</body>
</section>
<section>
<title>Silnik nadający się do wielokrotnego wykorzystania</title>
<body>

<p>
Właściwym koniem pociągowym instalatora będzie zestaw API
wykorzystywanych przez konkretnego klienta. W celu zachowania podziału
funkcjonalności i interfejsu użytkownika stworzona zostanie ogólna platforma
dla narzędzi stosowanych do kontroli instalacji systemu Gentoo. Rozwiązanie
takie będzie również wspierało konsystencję rozwiązań stosowanych na
różnych platformach.
</p>

</body>
</section>
<section>
<title>Zautomatyzowana instalacja</title>
<body>

<p>
Instalator będzie wspierał automatyczną instalacją przy użyciu
prekonfigurowanych profili. Ułatwi to instalację w dużych wdrożeniach
opartych na jednolitym sprzęcie lub w sytuacji, gdy istnieje potrzeba
zachowania wstępnej konfiguracji na wypadek awarii. Profil instalacyjny
będzie zawierał wszystkie dane potrzebne do "odtworzenia" instalacji
(np. cflags, flagi use, schemat partycjonowania dysków, pakiety
zainstalowane po wstępnej konfiguracji i tak dalej).
</p>

</body>
</section>
<section>
<title>Instalacja "na sucho" w celu wygenerowania profilu</title>
<body>

<p>
Użytkownicy będą mieli możliwość tworzenia profili instalacji poprzez
użycie instalatora bez faktycznego dokonywania jakichkolwiek działań.
Wszystkie dane wprowadzone przez użytkownika zostaną zapisane w
profilu (zapisanym w pliku XML) który potem może zostać wykorzystywany
do instalacji zautomatyzowanej.
</p>

</body>
</section>
<section>
<title>Pełne wsparcie dla wszystkich architektur Gentoo</title>
<body>

<p>
Jednym z wymagań wobec intalatora będzie wsparcie dla wszystkich
architektur dostępnych w Gentoo. Oznacza to co najmniej x86, ppc, sparc,
alpha, amd64, mips, hppa oraz itanium (znaczącym wyjątkiem będą
urządzenia osadzone. Ze względu na ich wysoką specjalizację
przystosowanie instalatora może być niemożliwe).
</p>

</body>
</section>
<section>
<title>Specjalizowane profile</title>
<body>

<p>
Wyspecjalizowane profile, takie jak SELinux będą również wspierane.
<!-- [WARNING] Pomyśl nad tym -->
Specialized profiles such as SELinux will be supported along side the
traditional (processor based) architectures. These specialized profiles will
support the additional features and requirements of their respective
installation processes.
</p>

</body>
</section>
<section>
<title>Otwarta polityka i wykorzystanie standardów</title>
<body>

<p>
Jeśli to tylko możliwe instalator będzie wykorzystywał otwarte formaty oraz
standardy w celu zapewnienia zgodności z innymi narzędziami stosowanymi
przez użytkowników. Oznacza to użycie otwartych formatów plików (XML),
protokołów sieciowych i temu podobnych. Zachowana będzie ostrożność w
celu uniknięcia uniemożliwienia wykorzystania alternatywnych narzędzi.
</p>

</body>
</section>
<section>
<title>Integracja z przyszłymi narzędziami konfiguracyjnymi</title>
<body>

<p>
Gdzie tylko będzie to możliwe instalator będzie integrował się z narzędziami
konfiguracyjnymi specyficznymi dla Gentoo do celów konfiguracji po
dokonaniu właściwej instalacji. Wsparcie dla narzędzi nie związanych
bezpośrednio z Gentoo (takich jak np. cfengine) może również zostać
wprowadzone.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Struktura i założenia projektowe</title>
<section>
<body>

<p>
Struktura instalatora musi być wystarczająco ogólna aby wspierać
wymienione powyżej funkcje, jednocześnie nie prowadząc do nadmiernej
abstrakcji która uczyniłaby proste zadania trudnymi oraz utrudniła
utrzymanie.
</p>

<p>
Określone zostało kilka założeń projektowych:
</p>

<ul>
  <li>Wspierane będzie wiele interfejsów użytkowników (abstrakcja
  	warstwy prezentacji)</li>
  <li>Utrzymana będzie pełna separacja modelu, prezentacji oraz logiki</li>
  <li>Wszystkie cechy muszą być wspierane niezależnie od interfejsu
    oraz architektury</li>
  <li>Automatyczna instalacja zawsze musi być możliwa</li>
</ul>

<p>
W celu spełnienia tych założeń platforma instalatora jest podzielona na trzy
części:
</p>

</body>
</section>
<section>
<title>Warstwa prezentacji (klient)</title>
<body>

<p>
Klient jest interfejsem użytkownika. Zawiera całość logiki związanej z
prezentacją procesu instalacji. Dodatkowo utrzymywać będzie mniej
istotne informacje o stanie, takie jak własna konfiguracja, ustawienia
linii poleceń, zmienne środowiskowe, rodzaj wywołania (interaktywny/
nieinteraktywny), logowanie, adresy serwerów z pakietami binarnymi i tak
dalej. Część z tych informacji będzie zachowana w profilu instalacji,
większość jednak nie.
</p>

<p>
Użytkownik będzie mógł wykorzystać wybrany interfejs do wygenerowania
profilu instalacyjnego, więc pod tym względem może on być traktowany
jak narzędzie do generacji profili.
</p>

<p>
Klient może również integrować się później z narzędziami konfiguracyjnymi.
</p>

<p>
W ogólności klient jest "głupi" i nieświadomy logiki implementacji
właściwego procesu instalacyjnego, aczkolwiek część rozwiązań
specyficznych dla architektury będzie w nim zawartych.
</p>

</body>
</section>
<section>
<title>Warstwa implementacji (API lub szkielet)</title>
<body>

<p>
Najważniejszą częścią instalatora będzie zestaw zorientowanych obiektowo
API które wprowadza uogólnienie właściwych poleceń wykonywanych w celu
instalacji systemu. Abstrakcja szkieletu polega na tym, że jego zachowanie
zależne jest od tego, jaki schemat architektury jest w danym momencie
wykorzystywany. Ilość oddzielnych kroków która zostanie wykonana w
znacznym stopniu zależy od wymagań oraz implementacji schematu
architektury (pliku XML który w swojej naturze jest podobny do 
/etc/make.profile).
</p>

<p>
Ponieważ szkielet jest oddzielony od klienta, może być on wykorzystywany
do specjalizowanych produktów rozwijanych przez użytkowników. Główne
możliwości są następujące:
</p>

<ul>
  <li>
    Klasa kontrolująca która, opierając się na schemacie architektury (plik
    XML), określa które kroki wykonać i w jakiej kolejności to zrobić. Jest ona
    jądrem całej implementacji.
  </li>
  <li>
    Klasa opisująca profil instalacji która utrzymuje całą informację o 
    procesie, taką jak schemat partycjonowania, cflags, flagi use i temu 
    podobne. Ta klasa może zostać zapisana do pliku XML, który następnie może 
    zostać umieszczona na serwerze automatycznego wdrożenia.
  </li>
</ul>

<p>
Inne klasy mogą zostać wykorzystane w celach przejściowych, lecz te dwie
określają to, co można uznać za publicznie dostępne dla autorów klientów.
</p>

</body>
</section>
<section>
<title>Serwer automatycznego wdrożenia</title>
<body>

<p>
Trzeci komponent jest prawdopodobnie interesujący tylko dla osób
korzystających z możliwości automatycznego wdrożenia zapewnianych
przez instalator. Serwer ten jest w zasadzie kombinacją usług i plików.
</p>

<p>
Profile instalacyjne mogą być przechowywane na zdalnej maszynie i
udostępniane poprzez serwer rsync. Klient (a dokładniej jego warstwa
implementacji) pobiera wszystkie dostępne profile jeżeli otrzyma URI
serwera rsync.
</p>

<p>
Serwer wdrożeń może również udostępniać usługi tftp oraz dhcp aby
umożliwiać start z sieci dla potrzeb dużych instalacji. Wymaga to z reguły
odpowiedniego wsparcia na maszynie klienckiej, lecz specjalne płyty live
CD z odpowiednim oprogramowaniem mogą zostać udostępnione przez
Gentoo.
</p>

<p>
W skrócie, serwer wdrożeń nie jest konkretnym demonem ani usługą, tylko 
kombinacją już dostępnych i standardowych usług. Założeniem jest skorzystanie z 
usług które już mogą być dostępne w sieci użytkownika.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Przebieg instalacji</title>
<section>
<body>

<p>
Proces konkretnej instalacji w znacznym stopniu zależy od schematu
architektury. Z reguły będzie on powtarzał kroki opisane w Podręczniku
Instalacji Gentoo.
</p>

<p>
Specjalizowane schematy, takie jak wcześniej wzmiankowany SELinux, mogą 
wykorzystywać takie same mechanizmy jak proces standardowy. Konkretne schematy 
będą nadpisywać domyślne zachowanie opisane w wersji domyślnej. W ten sposób
można uniknąć np. opisywania procesu synchronizowania drzewa rsync czy 
emergowania systemu dla każdej wspieranej architektury.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Kontakt</title>
<section>
<body>

<p>
Osoby rozwijające Instalatora Gentoo Linux zbierają się przede wszystkim
w dwóch miejscach: kanał IRC #gentoo-installer (na Freenode) jest głównym
forum dyskusyjnym, w którym wiele tematów jest omawianych na żywo.
Jest to preferowane miejsce na głębszą dyskusję. Problemy bardziej ogólne
mają swoje miejsce na liście dyskusyjnej poświęconej projektowi. Można się
na nią zapisać wysyłając list na adres 
gentoo-installer-subscribe@lists.gentoo.org.
</p>

</body>
</section>
</chapter>

<chapter>
<title>Autorzy i osoby zasłużone</title>
<section>
<body>

<p>
Całość informacji zawartej w tym dokumencie została przedyskutowana
w wielu dyskusjach odbywających się w kilku miejscach.
</p>

<p>
Na kanale #gentoo-installer blackace, dams, esammer, iggy, karltk, klieber,
Method, pauldv, port001, Ramereth, Rupart, spyerdous, npmmcullum, oraz tseng.
Pomocy udzieliły również inne osoby, lecz w trakcie pisania tego dokumentu nie
były one dostępne.
</p>

<p>
Projekt po raz pierwszy pojawił się na liście dyskusyjnej desktop-research i tam
został ogłoszony oficjalnym projektem Gentoo z aktualną załogą. Dziękujemy
również tym osobom.
</p>

<p>
Członkowie kanału #gentoo-server byli bardzo pomocni przy opisywaniu problemów
związanych z automatycznymi wdrożeniami, za co im dziękujemy.
</p>

<p>
Ten dokument jest podsumowaniem, i jest dziełem wszystkich członków społeczności
Gentoo.
</p>

</body>
</section>
</chapter>
</guide>
