<!-- Orig revision: 1.15 -->
<!-- Translator: lucass <lucass@gentoo.pl> -->
<!-- Title: Konfiguracja Systemu -->
<!-- Status: UkoÅ„czono -->

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<!-- $Header: /cvsroot/gentoo-doc-pl/trans/translated/handbook/hb-install-config.xml,v 1.5 2003/12/28 14:40:35 lcs Exp $ -->

<sections>
<section>
<title>Strefa czasowa</title>
<body>

<p>
Aby system wiedziaÅ‚ gdzie siÄ™ znajdujesz, powinieneÅ› wybraÄ‡ swojÄ… strefÄ™ czasowÄ….
Odszukaj jÄ… w <path>/usr/share/zoneinfo</path>, a nastÄ™pnie za pomocÄ… <c>ln</c>, utwÃ³rz 
do niej symlinka <path>/etc/localtime</path>.
</p>

<pre caption="Konfiguracja strefy czasowej">
# <i>ls /usr/share/zoneinfo</i>
<comment>(JeÅ›li chcesz wybraÄ‡ GMT:)</comment>
# <i>ln -sf /usr/share/zoneinfo/GMT /etc/localtime</i>
</pre>

</body>
</section>
<section>
<title>Informacje o Systemach PlikÃ³w</title>
<subsection>
<title>Co to jest fstab?</title>
<body>

<p>
W Linuxie, wszystkie uÅ¼ywane przez system partycje powinny byÄ‡
wpisane do <path>/etc/fstab</path>. Plik ten zawiera informacje o tym gdzie
(w strukturze katalogÃ³w), jak (z jakimi opcjami) i kiedy (automatycznie czy nie, 
przez zwykÅ‚ych uÅ¼ytkownikÃ³w czy nie itd.) majÄ… zostaÄ‡ zamontowane.
</p>

</body>
</subsection>
<subsection>
<title>Tworzenie /etc/fstab</title>
<body>

<p>
<path>/etc/fstab</path> uÅ¼ywa specyficznej skÅ‚adni. Wszystkie wiersze skÅ‚adajÄ…
siÄ™ z szeÅ›ciu pÃ³l, oddzielonych spacjami lub/i tabulatorami. KaÅ¼de z nich peÅ‚ni
jakÄ…Å› funkcjÄ™:
</p>

<ul>
<li>
  Pierwsze pole definiuje <b>partycjÄ™</b> (Å›cieÅ¼kÄ™ do odpowiadajÄ…cego jej urzÄ…dzenia)
</li>
<li>
  Drugie pole kontroluje <b>punkt montowania</b>.
</li>
<li>
  Trzecie pole opisuje uÅ¼ywany przez partycjÄ™ <b>system plikÃ³w</b>
</li>
<li>
  W czwartym polu podane sÄ… <b>opcje montowania</b> uÅ¼ywane przez <c>mount</c>.
  KaÅ¼dy system plikÃ³w posiada wÅ‚asne ustawienia, peÅ‚na lista znajduje siÄ™
  w podrÄ™czniku mount'a (<c>man mount</c>). Wszystkie opcje oddzielajÄ…
  przecinki.
</li>
<li>
  PiÄ…te pole uÅ¼ywane jest przez <c>dump</c> do ustalenia czy dana partycja
  ma byÄ‡ <b>dump</b>'owana czy nie. Zazwyczaj powinieneÅ› wpisaÄ‡ tu <c>0</c> (zero).
</li>
<li>
  Z szÃ³stego pola korzysta <c>fsck</c> do ustalenia czy dana partycja
  powinna zostaÄ‡ sprawdzona po nieprawidÅ‚owym wyÅ‚Ä…czeniu systemu. Dla gÅ‚Ã³wnego
  systemu plikÃ³w powinieneÅ› wpisaÄ‡ <c>1</c>, natomiast dla pozostaÅ‚ych <c>2</c>
  (lub <c>0</c> jeÅ›li kontrola nie jest konieczna)
</li>
</ul>

<p>
Aby utworzyÄ‡ <path>/etc/fstab</path> uruchom <c>nano</c> (lub swÃ³j ulubiony 
edytor):
</p>

<pre caption="Tworzenie /etc/fstab">
# <i>nano -w /etc/fstab</i>
</pre>

<p>
SpÃ³jrzmy jak zapisaÄ‡ opcje partycji <path>/boot</path>. To tylko przykÅ‚ad, nie musisz
go przepisywaÄ‡ jeÅ›li jej nie posiadasz.
</p>

<p>
W naszym domyÅ›lnym przykÅ‚adzie dla x86, <path>/boot</path> znajduje siÄ™
na <path>/dev/hda1</path> i uÅ¼ywa systemu plikÃ³w <c>ext2</c>. Nie powinna byÄ‡
automatycznie montowana (<c>noauto</c>) ale wymaga kontroli. A wiÄ™c
wpiszmy:
</p>

<pre caption="PrzykÅ‚adowy wpis do /etc/fstab dla /boot">
/dev/hda1   /boot     ext2    noauto        1 2
</pre>

<p>
Aby poprawiÄ‡ wydajnoÅ›Ä‡, wiÄ™kszoÅ›Ä‡ uÅ¼ytkownikÃ³w zapewne zechce dodaÄ‡
opcjÄ™ <c>noatime</c>. DziÄ™ki niej nie sÄ… rejestrowane czasy dostÄ™pÃ³w
(ktÃ³rych zazwyczaj nie potrzebujesz):
</p>

<pre caption="Poprawiony wpis /boot do /etc/fstab">
/dev/hda1   /boot     ext2    noauto,noatime    1 2
</pre>

<p>
W podobny sposÃ³b dodajmy kolejne partycje. Rezultatem bÄ™dÄ… nastÄ™pujÄ…ce
trzy wiersze (dla partycji <path>/boot</path>, <path>/</path> oraz swap):
</p>

<pre caption="Trzy wpisy do /etc/fstab">
/dev/hda1   /boot     ext2    noauto,noatime    1 2
/dev/hda2   none      swap    sw                0 0
/dev/hda3   /         ext3    noatime           0 1
</pre>

<p>
Na koniec, powinieneÅ› jeszcze dodaÄ‡ linijki dla <path>/proc</path>,
<c>tmpfs</c> oraz swojego CD-ROMu (i oczywiÅ›cie, jeÅ¼eli takowe posiadasz,
 do wszystkich pozostaÅ‚ych partycji i napÄ™dÃ³w).
</p>

<pre caption="PrzykÅ‚ad kompletnego /etc/fstab">
/dev/hda1   /boot     ext2    noauto,noatime    1 2
/dev/hda2   none      swap    sw                0 0
/dev/hda3   /         ext3    noatime           0 1

none        /proc     proc    defaults          0 0
none        /dev/shm  tmpfs   defaults          0 0

/dev/cdroms/cdrom0    /mnt/cdrom    auto      noauto,user    0 0
</pre>

<p>
<c>auto</c> powoduje, Å¼e <c>mount</c> sam prÃ³buje wykryÄ‡ system plikÃ³w
(zalecane dla wymienialnych noÅ›nikÃ³w, jako Å¼e mogÄ… posiadaÄ‡ rÃ³Å¼ne). <c>user</c>
umoÅ¼liwia montowanie zwykÅ‚ym uÅ¼ytkownikom.
</p>

<p>
Skorzystaj z powyÅ¼szego przykÅ‚adu do utworzenia wÅ‚asnego <path>/etc/fstab</path>.
JeÅ›li jesteÅ› uÅ¼ytkownikiem SPARC'a, powinieneÅ› jeszcze dodaÄ‡ do niego nastÄ™pujÄ…ce
linijki:
</p>

<pre caption="Dodawanie do /etc/fstab systemu plikÃ³w openprom">
none        /proc/openprom  openpromfs    defaults      0 0
</pre>

<p>
JeÅ›li korzystasz z <c>usbfs</c>, dodaj nastÄ™pujÄ…cy wpis:
</p>

<pre caption="Dodawanie do /etc/fstab systemu plikÃ³w usbfs">
none        /proc/bus/usb   usbfs         defaults      0 0
</pre>

<p>
Przejrzyj jeszcze raz <path>/etc/fstab</path>, zapisz zmiany i zamknij edytor.
</p>

</body>
</subsection>
</section>
<section>
<title>Konfiguracja Sieci</title>
<subsection>
<title>Hostname, Domainname itd.</title>
<body>

<p>
KaÅ¼dy uÅ¼ytkownik powinien nadaÄ‡ swojemu komputerowi jakÄ…Å› nazwÄ™. Wydaje siÄ™
to proste, ale <e>wielu</e> ma z tym spore trudnoÅ›ci. PamiÄ™taj, Å¼e zawsze moÅ¼esz
tÄ™ nazwÄ™ zmieniÄ‡. Dla spÃ³jnoÅ›ci wybraliÅ›my <c>tux</c>, oraz domenÄ™ <c>homenetwork</c>.
</p>

<p>
Skorzystamy z tych ustawieÅ„ w kolejnych przykÅ‚adach. Zacznijmy od ustalenia
nazwy hosta:
</p>

<pre caption="Konfiguracja nazwy hosta">
# <i>echo tux &gt; /etc/hostname</i>
</pre>

<p>
Teraz skonfigurujmy domenÄ™:
</p>

<pre caption="Konfiguracja nazwy domeny">
# <i>echo homenetwork &gt; /etc/dnsdomainname</i>
</pre>

<p>
JeÅ›li jesteÅ› posiadaczem domeny NIS (jeÅ¼eli nie wiesz co to jest,
prawdopodobnie jej nie masz), powinieneÅ› ustawiÄ‡ takÅ¼e jÄ…:
</p>

<pre caption="Konfiguracja nazwy domeny NIS">
# <i>echo nis.homenetwork &gt; /etc/nisdomainname</i>
</pre>

<p>
NastÄ™pnie dodaj skrypt <c>domainname</c> do domyÅ›lnego poziomu
uruchamiania:
</p>

<pre caption="Dodawanie domainname do domyÅ›lnego poziomu uruchamiania">
# <i>rc-update add domainname default</i>
</pre>

</body>
</subsection>
<subsection>
<title>Konfiguracja Sieci</title>
<body>

<p>
Zanim powiesz "Hej, przecieÅ¼ juÅ¼ to zrobiliÅ›my!", pamiÄ™taj Å¼e
to co ustawiaÅ‚eÅ› na poczÄ…tku instalacji jest przeznaczone tylko na jej potrzeby. 
Teraz ostatecznie skonfigurujemy sieÄ‡ dla twojego nowego systemu Gentoo.
</p>

<p>
Wszystkie ustawienia dotyczÄ…ce sieci znajdujÄ… siÄ™ w <path>/etc/conf.d/net</path>.
MajÄ… prostÄ…, ale niekoniecznie intuicyjnÄ… skÅ‚adniÄ™. Nie obawiaj siÄ™, wszystko
wyjaÅ›nimy :)
</p>

<p>
Zacznij od otwarcia w swoim ulubionym edytorze (w przykÅ‚adzie uÅ¼yjemy
<c>nano</c>) pliku <path>/etc/conf.d/net</path>:
</p>

<pre caption="Otwieranie /etc/conf.d/net do edycji">
# <i>nano -w /etc/conf.d/net</i>
</pre>

<p>
PierwszÄ… umieszczonÄ… w nim zmiennÄ… jest <c>iface_eth0</c>. Ma ona nastÄ™pujÄ…cÄ… skÅ‚adniÄ™:
</p>

<pre caption="SkÅ‚adnia iface_eth0">
iface_eth0="<i>&lt;twÃ³j adres ip&gt;</i> broadcast <i>&lt;twÃ³j adres broadcast&gt;</i> netmask <i>&lt;twoja maska sieciowa&gt;</i>"
</pre>

<p>
JeÅ›li korzystasz z DHCP (automatycznego przydzielania IP), powinieneÅ›
ustawiÄ‡ <c>iface_eth0</c> na <c>dhcp</c>. Aczkolwiek, jeÅ›li musisz
konfigurowaÄ‡ sieÄ‡ rÄ™cznie i nie zapoznaÅ‚eÅ› siÄ™ jeszcze z wymienionymi
wyÅ¼ej pojÄ™ciami, przeczytaj sekcjÄ™ <uri
link="?part=1&amp;chap=3#doc_chap4_sect3">Terminologia Sieciowa
</uri>.
</p>

<p>
Podamy dwa przykÅ‚ady; w pierwszym korzystamy z DHCP, w drugim mamy staÅ‚e IP
(192.168.0.2) z maskÄ… sieciowÄ… 255.255.255.0, adresem broadcast 192.168.0.255
i bramÄ… 192.168.0.1:
</p>

<pre caption="PrzykÅ‚adowe /etc/conf.d/net">
<comment>(Dla DHCP:)</comment>
iface_eth0="dhcp"

<comment>(Dla staÅ‚ego IP:)</comment>
iface_eth0="192.168.0.2 broadcast 192.168.0.255 netmask 255.255.255.0"
gateway="eth0/192.168.0.1"
</pre>

<p>
JeÅ›li korzystasz z kilku urzÄ…dzeÅ„ sieciowych, stwÃ³rz dodatkowe zmienne
<c>iface_eth</c>, jak <c>iface_eth1</c>, <c>iface_eth2</c> itd. Nie powinieneÅ›
powtarzaÄ‡ <c>gateway</c>, gdyÅ¼ dla danego komputera moÅ¼e mieÄ‡ tylko jednÄ… wartoÅ›Ä‡.
</p>

<p>
Zapisz teraz swojÄ… konfiguracjÄ™ i zamknij edytor.
</p>

</body>
</subsection>
<subsection>
<title>Automatyczny Start Sieci podczas Uruchamiania</title>
<body>

<p>
Aby urzÄ…dzenia sieciowe byÅ‚y aktywowane podczas startu, musisz je dodaÄ‡
do domyÅ›lnego poziomu uruchamiania. JeÅ¼eli jesteÅ› posiadaczem urzÄ…dzeÅ„ PCMCIA moÅ¼esz
pominÄ…Ä‡ te czynnoÅ›ci, gdyÅ¼ sÄ… one inicjowane przez wÅ‚asny skrypt startowy.
</p>

<pre caption="Dodawanie do domyÅ›lnego poziomu uruchamiania net.eth0">
# <i>rc-update add net.eth0 default</i>
</pre>

<p>
JeÅ›li posiadasz kilka urzÄ…dzeÅ„ sieciowych, musisz utworzyÄ‡ odpowiednie skrypty
startowe, np. <path>net.eth1</path>, <path>net.eth2</path> itd. MoÅ¼esz w tym
celu skorzystaÄ‡ z <c>ln</c>:
</p>

<pre caption="Tworzenie dodatkowych skryptÃ³w startowych">
# <i>cd /etc/init.d</i>
# <i>ln -s net.eth0 net.eth1</i>
# <i>rc-update add net.eth1 default</i>
</pre>

</body>
</subsection>
<subsection>
<title>Zapisywanie Informacji o Sieci</title>
<body>

<p>
PowinieneÅ› teraz poinformowaÄ‡ swÃ³j system o lokalnej sieci. SÅ‚uÅ¼y do tego
plik <path>/etc/hosts</path>. Zapisz w nich nazwy hostÃ³w i odpowiadajÄ…ce
im adresy IP ktÃ³rych nie moÅ¼e ustaliÄ‡ twÃ³j serwer nazw. Na przykÅ‚ad,
jeÅ›li wewnÄ™trzna sieÄ‡ skÅ‚ada siÄ™ z trzech komputerÃ³w: <c>jenny</c>
(192.168.0.5), <c>benny</c> (192.168.0.6) oraz <c>tux</c> (192.168.0.7 - na ktÃ³rym pracujesz),
powinieneÅ› dodaÄ‡ do <path>/etc/hosts</path> nastÄ™pujÄ…ce linijki:
</p>

<pre caption="Otwieranie /etc/hosts">
# <i>nano -w /etc/hosts</i>
</pre>

<pre caption="Wpisywanie informacji o sieci">
127.0.0.1     localhost
192.168.0.5   jenny
192.168.0.6   benny
192.168.0.7   tux

</pre>

<p>
JeÅ›li nie posiadasz wewnÄ™trznej sieci (lub serwer nazw obejmuje
takÅ¼e umieszczone w niej komputery) wystarczy pojedynczy wpis:
</p>

<pre caption="/etc/hosts dla samotnych lub w peÅ‚ni zintegrowanych maszyn">
127.0.0.1     localhost   tux
</pre>

<p>
Zapisz zmiany i zamknij edytor.
</p>

<p>
JeÅ›li nie posiadasz PCMCIA, moÅ¼esz od razu przejÅ›Ä‡ do sekcji <uri
link="#doc_chap4">Konfiguracja Systemu</uri>. W przeciwnym wypadku
czytaj dalej.
</p>

</body>
</subsection>
<subsection>
<title>Opcjonalnie: Konfiguracja PCMCIA</title>
<body>

<p>
JeÅ›li korzystasz z PCMCIA, zainstaluj pakiet <c>pcmcia-cs</c>:
</p>

<pre caption="Instalacja pcmcia-cs">
# <i>emerge --usepkg pcmcia-cs</i>
</pre>

<p>
NastÄ™pnie  dodaj do poziomu uruchamiania <e>boot</e> skrypt <c>pcmcia</c>:
</p>

<pre caption="Dodawanie do poziomu uruchamiania boot skryptu pcmcia">
# <i>rc-update add pcmcia boot</i>
</pre>

</body>
</subsection>
</section>
<section>
<title>Konfiguracja Systemu</title>
<body>

<p>
Do zasadniczych ustawieÅ„, Gentoo uÅ¼ywa pliku <path>/etc/rc.conf</path>.
OtwÃ³rz go i zapoznaj siÄ™ z umieszczonymi w nim komentarzami :)
</p>

<pre caption="Otwieranie /etc/rc.conf">
# <i>nano -w /etc/rc.conf</i>
</pre>

<p>
Jak widzisz, plik ten jest dobrze okomentowany. DziÄ™ki temu powinieneÅ›
poradziÄ‡ sobie z umieszczonymi w nim zmiennymi bez problemÃ³w. Po ukoÅ„czeniu
edycji, zapisz zmiany i zamknij edytor. Nastêpnie przejd¼ do 
<uri link="?part=1&amp;chap=9">Konfiguracji Bootloader'a</uri>.
</p>

</body>
</section>
</sections>
