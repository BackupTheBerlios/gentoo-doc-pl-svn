<?xml version='1.0' encoding="UTF-8"?>
<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<!-- Orig revision: 1.29 -->
<!-- Translator: Bartek Stalewski <ftpd@rpg.pl> -->
<!-- Title: Szybka instalacja Gentoo -->
<!-- Status: Do Korekty -->
<!-- $Header: /cvsroot/gentoo-doc-pl/trans/translated/gentoo-x86-quickinstall.xml,v 1.1 2005/02/20 23:32:04 sekretarz Exp $ -->

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/1.0 -->

<guide link="/doc/en/gentoo-x86-quickinstall.xml">
<title></title>
<author title="Author">Steven Wagner</author>
<author title="Editor">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="TĹumacz">
  <mail link="ftpd@rpg.pl">Bartek Stalewski</mail>
</author>

<abstract>
Niniejszy dokument opisuje wszystkie stopnie procesu instalacji w sposĂłb
skrĂłtowy. UĹźytkownicy powinni mieÄ pewne doĹwiadczenie w instalacji Gentoo,
jeĹźeli chcÄ posĹugiwaÄ siÄ tym przewodnikiem.
</abstract>

<license/>

<version>1.24</version>
<date>2005-02-07</date>

<chapter>
<title>Przewodnik szybkiej instalacji.</title>
<section>
<body>

<p>
Obrazy instalacyjne sÄ na <uri link="http://www.gentoo.org/main/en/mirrors.xml">
serwerach lustrzaych Gentoo</uri>. SzczegĂłĹowe opisy rĂłĹźnych pĹyt sÄ dostÄpne w
<uri link="http://store.gentoo.org">sklepie Gentoo</uri>. Universal CD
zawiera wszystko, czego potrzebujesz Ĺźeby zainstalowaÄ Gentoo szybko i bez
poĹÄczenia z Internetem. Do wyboru jest teĹź Package CD, ktĂłre zawiera
pre-kompilowane pakiety, takie jak KDE, GNOME, OpenOffice, Mozilla, Evolution
itd.
</p>

<p>
Uruchom komputer z Universal CD. NaciĹnij &lt;F1&gt; i/lub &lt;F2&gt;, Ĺźeby
zobaczyÄ, jakie opcje bootowania sÄ dostÄpne. NaciĹnij &lt;ENTER&gt; w ekranie
bootowania, by kontynuowaÄ ze standardowym kernelem. Po uruchomieniu systemu
zobaczysz znak zachÄty.
</p>

<pre caption="Ustawienia poczÄtkowe">
# <i>date</i>  (Upewnij siÄ, Ĺźe godzina i data sÄ prawidĹowe. JeĹli nie, ustaw je przez <i>date MMDDhhmmCCYY</i> )
# <i>modprobe module_name</i>  (Do wyboru - Ĺadowanie potrzebnych moduĹĂłw)
# <i>net-setup eth0</i> (Skonfiguruj sieÄ)
# <i>fdisk /dev/hda</i> (UtwĂłrz na dysku odpowiednie partycje)
</pre>

<p>
Polecanym ustawieniem jest partycja boot w ext2 (64MB), partycja wymiany rĂłwna
podwĂłjnej iloĹci pamiÄci i reszta dysku na partycjÄ root, uĹźywajÄc ReiserFS.
</p>

<p>
Przygotuj swoje partycje uĹźywajÄc <c>mke2fs</c> (Ext2), <c>mke2fs
-j</c> (Ext3), <c>mkreiserfs</c> (ReiserFS), <c>mkfs.xfs</c> (XFS),
<c>mkfs.jfs</c> (JFS) i <c>mkswap</c> (partycja wymiany). Na przykĹad:
<c>mke2fs -j /dev/hda3</c>.
</p>

<p>
Kontynuuj montujÄc parycje i rozpakowujÄc odpowiedni plik stage.
</p>

<pre caption="Preparing the Installation">
(Aktywacja partycji wymiany)             # <i>swapon /dev/hdax</i>
(Montowanie partycji root)               # <i>mount /dev/hdax /mnt/gentoo</i>
(Stworzenie punktu montowani dla boot)   # <i>mkdir /mnt/gentoo/boot</i>
(Montowanie partycji boot)               # <i>mount /dev/hdax /mnt/gentoo/boot</i>
(PrzejĹcie do zamontowanej partycji)     # <i>cd /mnt/gentoo</i>
(Rozpakowanie pliku stage)               # <i>tar -xvjpf /mnt/cdrom/stages/stage&lt;twĂłj stage&gt;.tar.bz2</i>
(<comment>lub</comment> ĹciÄgniÄcie najnowszego pliku ze stage...) 
                                         # <i>links http://www.gentoo.org/main/en/mirrors.xml</i>
(    ... i rozpakowanie go)              # <i>tar -xvjpf stage&lt;twĂłj stage&gt;.tar.bz2</i>
(Do wyboru: rozpakowanie portage)        # <i>tar -xvjf /mnt/cdrom/snapshots/portage-*.tar.bz2 \
                                           -C /mnt/gentoo/usr</i>
(Optional: skopiowanie ĹşrĂłdeĹ)           # <i>cd /mnt/gentoo/usr/portage; mkdir distfiles;</i>
                                         # <i>cp /mnt/cdrom/distfiles/* distfiles/</i>
(Wybranie serwera lustrzanego)           # <i>mirrorselect -a -s4 -o | grep 'GENTOO_MIRRORS=' \
                                           &gt;&gt; /mnt/gentoo/etc/make.conf</i>
(Skopiowanie informacji o nameserverze)
                                         # <i>cp -L /etc/resolv.conf /mnt/gentoo/etc/resolv.conf</i>
(Montowanie proc'a)                      # <i>mount -t proc none /mnt/gentoo/proc</i>
(Chroot do nowego Ĺrodowiska             # <i>chroot /mnt/gentoo /bin/bash</i>
(ZaĹadowanie potrzebnych zmiennych)      # <i>env-update; source /etc/profile</i>
(Tylko z obsĹugÄ sieci, bez GRP - aktualizacja portage)
                                 # <i>emerge --sync</i>
</pre>

<p>
Teraz zainstalujemy Gentoo:
</p>

<pre caption = "Instalacja Gentoo">
(Zmiana flag USE, CFLAGS i CXXFLAGS. UĹźytkownicy stage1 mogÄ teĹź zmieniÄ CHOST)
                                  # <i>nano -w /etc/make.conf</i>
(Tylko stage1: bootstrap systemu) # <i>cd /usr/portage; scripts/bootstrap.sh</i>
(Tylko stage1 i stage2: instalacja systemu podstawowego)
                                  # <i>emerge system</i>
</pre>

<p>
Teraz uzupeĹnimy potrzebne informacje:
</p>

<pre caption = "Tworzenie plikĂłw konfiguracyjnych">
(Ustawienie strefy czasowej) # <i>ln -sf /usr/share/zoneinfo/<comment>&lt;ĹcieĹźka do wlaĹciwego pliku&gt;</comment>
                               /etc/localtime</i>
(Edycja pliku fstab)         # <i>nano -w /etc/fstab</i>
</pre>

<p>
UĹźywaj poniĹźszego jako <e>przykĹad</e> (nie kopiuj dokĹadnie) dla
<path>/etc/fstab</path>:
</p>

<pre caption="/etc/fstab">
# &lt;fs&gt;          &lt;mountpoint&gt;    &lt;type&gt;          &lt;opts&gt;                  &lt;dump/pass&gt;
/dev/hdax       /boot           ext2            defaults,noatime        1 2
/dev/hdax       none            swap            sw                      0 0
/dev/hdax       /               reiserfs        noatime                 0 1
/dev/cdroms/cdrom0 /mnt/cdrom   auto            noauto,user             0 0
none            /proc           proc            defaults                0 0
none            /dev/shm        tmpfs           nodev,nosuid,noexec     0 0
</pre>

<p>
Kontynuuj instalujÄc kernel Linuxa:
</p>

<pre caption="Instalacja kernela">
(Zainstaluj ĹşrĂłdĹa kernela)     # <i>emerge <comment>&lt;kernel-package-here&gt;</comment></i>
(Skonfiguruj swĂłj kernel uĹźywajÄc genkernel...)
                                # <i>emerge genkernel; genkernel --menuconfig all</i>
(<comment>lub</comment> (1) rÄcznie zbuduj swĂłj kernel)
                                # <i>cd /usr/src/linux; make menuconfig;</i>
(   (2) PamiÄtaj o opcjach VM fs, /proc fs, /dev fs,  /dev fs auto mount at boot)
(   (3) Skompiluj kernel)
           (dla kerneli 2.4)    # <i>make dep &amp;&amp; make clean bzImage modules modules_install</i>
           (dla kerneli 2.6)    # <i>make &amp;&amp; make modules_install</i>
(   (4) Skopiuj kernel)         # <i>cp arch/i386/boot/bzImage /boot; cp System.map /boot</i>
</pre>

<p>
Teraz zainstaluj inne narzÄdzia, ktĂłrych moĹźesz potrzebowaÄ:
</p>

<pre caption = "Instalacja waĹźnych narzÄdzi systemowych">
(Zainstaluj program logujÄcy - do wyboru: sysklogd, metalog, msyslog, syslog-ng) 
                                              # <i>emerge syslog-ng </i>
(Ustaw program logujÄcy do automatycznego uruchamiania siÄ przy starcie)
                                              # <i>rc-update add syslog-ng default</i>
(Zainstaluj demona cron; do wyboru: vixie-cron, dcron, fcron)                
                                              # <i>emerge vixie-cron</i>
(Ustaw demona cron do automatycznego uruchamiania siÄ przy starcie)
                                              # <i>rc-update add vixie-cron default</i>   
(UĹźytkownicy genkernel: instalacja hotplug)   # <i>emerge hotplug</i>
(UĹźytkownicy genkernel: hotplug automatycznie przy starcie)
                                              # <i>rc-update add hotplug default</i>
(UĹźytkownicy innych niĹź ext2 i ext3 systemĂłw plikĂłw; do wyboru: reiserfsprogs, xfsprogs, jfsutils)
                                              # <i>emerge reiserfsprogs</i>
(Do wyboru: instalacja demona DHCPD)          # <i>emerge dhcpcd</i> 
(Skrypt inicjalizujcy domainname)             # <i>rc-update add domainname default</i>
</pre>

<p>
JeĹźeli potrzebujesz specjalnych ebuildĂłw do kernela, teraz jest dobry moment do ich instalacji:
</p>

<pre caption = "Instalacja specjalnych ebuildĂłw do kernel">
# <i>emerge pcmcia-cs</i> (or <i>nforce-net</i>, <i>nforce-audio</i>, <i>e100</i>, <i>e1000</i>, <i>ati-drivers</i>, <i>rp-pppoe</i>)
# <i>VIDEO_CARDS="twoja karta" emerge x11-drm</i>   (dla ATI Radeon do wersji 9200, Rage128, 
                                            Matrox, Voodoo i innych kart
</pre>

<p>
DokoĹcz ustawianie swojego Gentoo:
</p>

<pre caption = "KoĹczenie ustawien">
(Ustaw hasĹo roota)          # <i>passwd</i>
(StwĂłrz uĹźytkownika)         # <i>useradd twĂłj_uĹźytkownik -m -G users,wheel,audio -s /bin/bash</i>
(Ustaw mu hasĹo)             # <i>passwd twĂłj_uĹźytkownik</i>
(Ustaw hostname)             # <i>echo mymachine &gt; /etc/hostname</i>
(Ustaw domainname)           # <i>echo mydomain.com &gt; /etc/dnsdomainname</i>
(Ustaw plik hosts, np. "127.0.0.1 localhost mymachine")  
                             # <i>nano -w /etc/hosts</i>
(Skonfiguruj podstawowe ustawienia systemu wg. komentarzy)
                             # <i>nano -w /etc/rc.conf</i>
</pre>

<pre caption = "Set up Networking">
(Ustaw sieÄ; uĹźytkownicy dhcp powinni ustawiÄ iface_eth0="dhcp")
                              # <i>nano -w /etc/conf.d/net</i>
(Wypisz moduĹy, ktĂłre majÄ byÄ Ĺadowane przy starcie)
                              # <i>nano -w /etc/modules.autoload.d/kernel-<comment>&lt;wersja&gt;</comment></i>
(Bez PCMCIA: uruchamiaj sieÄ przy starcie)
                              # <i>rc-update add net.eth0 default</i>
(Tylko gdy masz kilka interfejsĂłw sieciowych:)
   (1) StwĂłrz skrypty dla kaĹźdego interfejsu)
                              # <i>ln -s /etc/init.d/net.eth0 /etc/init.d/net.ethx</i>
   (2) Uruchamiaj przy starcie)
                              # <i>rc-update add net.ethx default</i>
(UĹźytkownicy PCMCIA: wyedytuj /etc/conf.d/pcmcia i zaĹaduj PCMCIA przy starcie)
                              # <i>rc-update add pcmcia default</i>
</pre>

<p>
Zainstaluj bootlodera.
</p>

<pre caption="Instalacja i konfiguracja GRUB">
# <i>emerge grub</i>
# <i>grub</i>
grub&gt; <i>root (hd0,0)</i>
grub&gt; <i>setup (hd0)</i>
grub&gt; <i>quit</i>
# <i>nano -w /boot/grub/grub.conf</i>
default 0
timeout 15
splashimage=(hd0,0)/grub/splash.xpm.gz

title=Gentoo Linux
  root (hd0,0)
  <comment># genkernel users:</comment>
  kernel /kernel-<comment>&lt;kernel version&gt;</comment> root=/dev/ram0 init=/linuxrc real_root=/dev/hda3 ramdisk=8192
  initrd /initrd-<comment>&lt;kernel version&gt;</comment>
  <comment># non-genkernel users:</comment>
  kernel /kernel-<comment>&lt;kernel version&gt;</comment> root=/dev/hda3
</pre>

<pre caption="Instalacja i konfiguracja LILO">
# <i>emerge lilo</i>
# <i>nano -w /etc/lilo.conf</i>
boot=/dev/hda
prompt
timeout=50
default=gentoo

image=/boot/kernel-<comment>&lt;kernel version&gt;</comment> 
  label=gentoo
  read-only
  <comment># uĹźytkownicy genkernel:</comment>
  append="init=/linuxrc real_root=/dev/hda3 ramdisk=8192"
  root=/dev/ram0
  initrd=/boot/initrd-<comment>&lt;kernel version&gt;</comment>
  <comment># nie uĹźywajÄcy genkernel:</comment>
  root=/dev/hda3

# <i>/sbin/lilo</i>
</pre>

<p>
Odmontuj wszystkie partycje i zresetuj swĂłj nowy system:
</p>

<pre caption="KoĹczenie i instalacja GUI">
(WyjĹcie z chroot)           # <i>exit; cd /</i>
(Odmontowanie partycji)      # <i>umount /mnt/gentoo/boot /mnt/gentoo/proc /mnt/gentoo</i>
(Reset; wyjmij pĹytÄ)
                             # <i>reboot</i>
(Po starcie:)
(UĹźytkownicy ADSL)           # <i>adsl-setup</i>
(UĹźytkownicy GRP)
   (1) Zamontuj Package CD   # <i>mount /dev/cdrom /mnt/cdrom</i>  
   (2) Skopiuj pakiety       # <i>mkdir /usr/portage/packages</i>
                             # <i>cp -a /mnt/cdrom/* /usr/portage/packages/</i>
   (3) Zainstaluj, co chcesz # <i>USE="bindist" emerge -k xorg-x11 gnome kde mozilla openoffice-bin</i>
   (4) Skonfguruj serwer X   # <i>/usr/X11R6/bin/xf86config</i>
</pre>

<p>
WiÄcej informacji znajdziesz w <uri 
link="http://www.gentoo.org/doc/en/index.xml">Dokumentacji Gentoo</uri>.
</p>
</body>
</section>
</chapter>	
</guide>

